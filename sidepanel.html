<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Autoline</title>
    <link rel="stylesheet" href="sidepanel.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="brand">
          <div class="logo">A</div>
          <div class="title">Autoline</div>
        </div>

        <div class="topbarBtns">
          <!-- Play -->
          <button id="playBtn" class="iconBtn" title="Play" aria-label="Play">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M8 5v14l11-7z"></path>
            </svg>
          </button>

          <!-- Settings (wrench) -->
          <button id="settingsBtn" class="iconBtn" title="Settings" aria-label="Settings">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M22.7 19.3 20 16.6c.2-.6.3-1.2.3-1.8 0-.6-.1-1.2-.3-1.8l2.7-2.7-2-2-2.7 2.7c-.6-.2-1.2-.3-1.8-.3-.6 0-1.2.1-1.8.3L11.7 6.3l-2 2 2.7 2.7c-.2.6-.3 1.2-.3 1.8 0 .6.1 1.2.3 1.8l-2.7 2.7 2 2 2.7-2.7c.6.2 1.2.3 1.8.3.6 0 1.2-.1 1.8-.3l2.7 2.7 2-2zM16.2 16.6c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8z"
              ></path>
            </svg>
          </button>

          <!-- Add Node -->
          <button id="addNodeBtn" class="iconBtn" title="Add Node" aria-label="Add Node">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M19 11H13V5h-2v6H5v2h6v6h2v-6h6z"></path>
            </svg>
          </button>
        </div>
      </header>

      <main class="content">
        <section class="actionsSection">
          <h2>Actions</h2>
          <div id="actionsList" class="actionsList"></div>
        </section>
      </main>

      <!-- Add Node Modal -->
      <div id="modalBackdrop" class="backdrop hidden" role="dialog" aria-modal="true">
        <div class="modal">
          <div class="modalHeader">
            <div class="modalTitle">Add Node</div>
            <button id="closeModalBtn" class="iconBtn small" aria-label="Close">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.3 5.7 12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"></path>
              </svg>
            </button>
          </div>

          <div class="modalBody">
            <button id="addSwitchTabNode" class="nodeItem">
              <div class="nodeName">Switch Tab</div>
              <div class="nodeHint">Activate a recorded tab during replay</div>
            </button>

            <button id="addDelayNode" class="nodeItem">
              <div class="nodeName">Delay</div>
              <div class="nodeHint">Wait before the next action</div>
            </button>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <div id="settingsBackdrop" class="backdrop hidden" role="dialog" aria-modal="true">
        <div class="modal">
          <div class="modalHeader">
            <div class="modalTitle">Settings</div>
            <button id="closeSettingsBtn" class="iconBtn small" aria-label="Close">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.3 5.7 12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"></path>
              </svg>
            </button>
          </div>

          <div class="modalBody">
            <div class="formRow">
              <label class="label">Delay between actions (sec)</label>
              <input id="globalDelayInput" class="input" type="number" step="0.1" min="0" />
              <div class="hint">Default: 0.2 sec</div>
            </div>

            <div class="formActions">
              <button id="saveSettingsBtn" class="btn primary">Save</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Status / toast -->
      <div id="status" class="status hidden"></div>
    </div>

    <script src="sidepanel.js"></script>
  </body>
</html>
